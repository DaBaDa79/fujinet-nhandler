
NEW

 10 GOSUB 10000

 100 PRINT "IPV4 TEST"
 110 F = 0
 120 BW = 255:CN = 255:ER = 255
 
 200 F$="N:HTTP://ipv4.icanhazip.com/"
 210 PRINT "OPEN ";F$
 220 R = 4: TR=2
 230 & NOPEN F, R,TR, F$ 
 340 & NINPUT F,A$
 350 PRINT A$
  
 400 PRINT "CLOSE"
 410 &NCLOSE F
 
 9999 END
 
10000 REM *************************
10010 REM DETERMINE IF FUJI EXTENSIONS ARE INSTALLED
10020 REM *************************
10022 GOSUB 10030: IF R=1 THEN PRINT "EXTENSIONS ALREADY INSTALLED.": GOTO 10028
10024 PRINT "LOADING EXTENSIONS..."
10026 PRINT  CHR$ (4);"BRUN /FUJI.APPLE/FUJIAPPLE"
10028 RETURN

10030 X = PEEK(1014)+PEEK(1015)*256
10040 X = X - 1
10050 C = PEEK(X)
10060 IF C = 0 OR C > 20 THEN 10140
10070 X = X - C
10080 A$=""
10090 FOR Y = 1 TO C+1: A$=A$+CHR$(PEEK(X)):X=X+1:NEXT Y
10100 B$ = "FUJIAMP"
10130 IF A$=B$ THEN R=1: GOTO 10150
10140 R=0
10150 RETURN

SAVE /FUJI.APPLE/IPV4TEST.BAS

